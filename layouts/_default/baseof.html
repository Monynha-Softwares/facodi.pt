<!doctype html>
<html lang="{{ .Site.LanguageCode | default "en" }}" data-bs-theme="{{ site.Params.doks.colorMode | default "auto" }}">
  {{ partial "head/head" . }}
  {{ partial "head/body-class" . }}
  {{ $classes := delimit (.Scratch.Get "class") " " }}

  {{ $courseCode := "" }}
  {{ $planVersion := "" }}
  {{ $ucCode := "" }}
  {{ $topicSlug := "" }}

  {{ if eq .Layout "course" }}
    {{ $courseCode = .Params.code | default "" }}
    {{ $planVersion = .Params.plan_version | default "" }}
  {{ end }}

  {{ if eq .Type "uc" }}
    {{ $ucCode = .Params.code | default "" }}
  {{ end }}

  {{ if eq .Type "topic" }}
    {{ $topicSlug = .Params.slug | default (.File.TranslationBaseName | default "") }}
  {{ end }}

  {{ $bodyAttrs := slice (printf "class=\"%s\"" $classes) }}

  {{ if eq site.Params.doks.scrollSpy true }}
    {{ $bodyAttrs = $bodyAttrs | append "data-bs-spy=\"scroll\"" "data-bs-target=\"#toc\"" "data-bs-root-margin=\"0px 0px -60%\"" "data-bs-smooth-scroll=\"true\"" "tabindex=\"0\"" }}
  {{ end }}

  {{ with $courseCode }}
    {{ $bodyAttrs = $bodyAttrs | append (printf "data-course=\"%s\"" .) }}
  {{ end }}
  {{ with $planVersion }}
    {{ $bodyAttrs = $bodyAttrs | append (printf "data-plan-version=\"%s\"" .) }}
  {{ end }}
  {{ with $ucCode }}
    {{ $bodyAttrs = $bodyAttrs | append (printf "data-uc=\"%s\"" .) }}
  {{ end }}
  {{ with $topicSlug }}
    {{ $bodyAttrs = $bodyAttrs | append (printf "data-topic=\"%s\"" .) }}
  {{ end }}

  <body{{ range $bodyAttrs }} {{ . | safeHTMLAttr }}{{ end }}>
    {{ partial "header/header" . }}
    <div class="wrap container-{{ site.Params.doks.containerBreakpoint | default "lg" }}" role="document">
      <div class="content">
      {{ if and (eq site.Params.doks.containerBreakpoint "fluid") (or (not (in .Site.Params.mainSections .Type)) (.IsNode)) }}<div class="container p-0">{{ end }}
        {{ block "main" . }}{{ end }}
      {{ if and (eq site.Params.doks.containerBreakpoint "fluid") (or (not (in .Site.Params.mainSections .Type)) (.IsNode)) }}</div>{{ end }}
      </div>
    </div>
    {{ block "sidebar-prefooter" . }}{{ end }}
    {{ block "sidebar-footer" . }}{{ end }}
    {{ partial "footer/footer" . }}
    {{ partial "footer/script-footer" . }}
    {{ if eq site.Params.doks.toTopButton true -}}
      {{ partial "footer/to-top" . }}
    {{ end }}
  </body>
</html>
