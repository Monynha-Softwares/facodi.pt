{{ define "main" }}
<section class="section container py-5">
  <div class="row justify-content-center mb-5">
    <div class="col-lg-8 text-center">
      <h1 class="mb-3">{{ .Title }}</h1>
      {{ with .Params.lead }}
      <p class="lead">{{ . }}</p>
      {{ end }}
      <div class="content">{{ .Content }}</div>
    </div>
  </div>
  <div class="row g-4">
    {{ $courses := sort .Sections "Title" }}
    {{ if not (len $courses) }}
    <div class="col-12">
      <div class="alert alert-warning" role="alert">
        <span data-i18n="catalog.noCourses">{{ i18n "catalog.noCourses" }}</span>
      </div>
    </div>
    {{ end }}
    {{ range $courses }}
    {{ $params := .Params }}
    <div class="col-md-6">
      <div class="card h-100 shadow-sm border-0">
        <div class="card-body d-flex flex-column">
          <div class="d-flex align-items-center justify-content-between mb-3">
            <span class="badge bg-primary-subtle text-primary fw-semibold notranslate">{{ $params.code }}</span>
            {{ with $params.plan_version }}
            <span class="text-muted small"><span data-i18n="common.plan">{{ i18n "common.plan" }}</span> <span class="notranslate">{{ . }}</span></span>
            {{ end }}
          </div>
          <h2 class="h4 notranslate">{{ .Title }}</h2>
          {{ with $params.summary }}
          <p class="text-muted notranslate">{{ . }}</p>
          {{ else }}
          {{ with .Summary }}<p class="text-muted notranslate">{{ . }}</p>{{ end }}
          {{ end }}
          <dl class="row small text-muted mb-4">
            <dt class="col-5" data-i18n="common.degree">{{ i18n "common.degree" }}</dt>
            <dd class="col-7 notranslate">{{ $params.degree | default "--" }}</dd>
            <dt class="col-5" data-i18n="common.ects">{{ i18n "common.ects" }}</dt>
            <dd class="col-7 notranslate">{{ $params.ects_total | default "--" }}</dd>
            <dt class="col-5" data-i18n="common.duration">{{ i18n "common.duration" }}</dt>
            <dd class="col-7"><span class="notranslate">{{ $params.duration_semesters | default "--" }}</span> <span data-i18n="common.durationSuffix">{{ i18n "common.durationSuffix" }}</span></dd>
          </dl>
          <div class="mt-auto">
            <a class="btn btn-outline-primary w-100" href="{{ partial "facodi/langless-url.html" (dict "url" .RelPermalink) }}" data-i18n="catalog.viewCurriculum">{{ i18n "catalog.viewCurriculum" }}</a>
          </div>
        </div>
      </div>
    </div>
    {{ end }}
  </div>
</section>
{{ end }}
