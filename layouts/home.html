{{ define "main" }}
  {{ $scratch := newScratch }}
  {{ $scratch.Set "coursesCount" 0 }}
  {{ $scratch.Set "ucCount" 0 }}
  {{ with site.GetPage "section" "courses" }}
    {{ range .Sections }}
      {{ if .Params.code }}
        {{ $scratch.Add "coursesCount" 1 }}
        {{ with .Params.ucs }}
          {{ $scratch.Add "ucCount" (len .) }}
        {{ end }}
      {{ end }}
    {{ end }}
  {{ end }}
  <section class="home-hero py-5 py-lg-6">
    <div class="container-xxl">
      <div class="row align-items-center justify-content-between g-5 g-xl-6">
        <div class="col-12 col-xl-6">
          <div class="d-inline-flex align-items-center gap-2 home-hero-chip mb-3">
            <span class="badge bg-primary rounded-pill">FACODI</span>
            <span class="text-uppercase small fw-semibold text-muted mb-0">Faculdade Comunit√°ria Digital</span>
          </div>
          <h1 class="display-4 fw-bold mb-3">Educa√ß√£o aberta com cara de futuro e for√ßa da comunidade</h1>
          <p class="lead text-secondary mb-4">{{ .Params.lead | safeHTML }}</p>
          <div class="d-flex flex-column flex-sm-row gap-3 mb-4">
            <a class="btn btn-primary btn-lg rounded-pill px-4" href="/courses/" role="button">Explorar curr√≠culos</a>
            <a class="btn btn-outline-primary btn-lg rounded-pill px-4" href="https://monynha.com" target="_blank" rel="noopener">Conhe√ßa o ecossistema Monynha Softwares</a>
          </div>
          <div class="home-stats mt-4">
            <div class="home-stats-card">
              <span class="home-stats-label">Cursos mapeados</span>
              <span class="home-stats-value">{{ $scratch.Get "coursesCount" }}</span>
              <p class="text-muted mb-0">Planos curriculares oficiais organizados coletivamente e atualizados com carinho.</p>
            </div>
            <div class="home-stats-card">
              <span class="home-stats-label">Unidades vivas</span>
              <span class="home-stats-value">{{ $scratch.Get "ucCount" }}</span>
              <p class="text-muted mb-0">Disciplinas com playlists abertas, materiais p√∫blicos e resultados de aprendizagem claros.</p>
            </div>
            <div class="home-stats-card">
              <span class="home-stats-label">Orgulho comunit√°rio</span>
              <span class="home-stats-value text-primary">100%</span>
              <p class="text-muted mb-0">Transpar√™ncia, diversidade e participa√ß√£o ativa de quem estuda, ensina e compartilha.</p>
            </div>
          </div>
        </div>
        <div class="col-12 col-xl-5">
          <div class="home-hero-card card border-0 shadow-lg h-100">
            <div class="card-body p-4 p-lg-5 d-flex flex-column gap-4">
              <div class="d-flex flex-column flex-sm-row justify-content-between align-items-start align-items-sm-center gap-3">
                <div>
                  <p class="text-uppercase text-primary small fw-semibold mb-2">Mapa vivo do curr√≠culo</p>
                  <h2 class="h4 fw-semibold mb-0">Visualize playlists, t√≥picos e progresso em um s√≥ painel</h2>
                </div>
                <span class="badge bg-light text-dark border rounded-pill">Atualiza√ß√£o cont√≠nua</span>
              </div>
              <ul class="list-unstyled mb-0 d-flex flex-column gap-3">
                <li class="d-flex align-items-start gap-3">
                  <span class="home-hero-icon">üß≠</span>
                  <div>
                    <strong>Semestres conectados</strong>
                    <p class="text-muted mb-0 small">Passeie por cada per√≠odo e entenda rapidamente a carga hor√°ria, os temas e as conex√µes.</p>
                  </div>
                </li>
                <li class="d-flex align-items-start gap-3">
                  <span class="home-hero-icon">üéß</span>
                  <div>
                    <strong>Playlists integradas</strong>
                    <p class="text-muted mb-0 small">Assista aulas e acervos livres sem sair da p√°gina da unidade curricular.</p>
                  </div>
                </li>
                <li class="d-flex align-items-start gap-3">
                  <span class="home-hero-icon">üí¨</span>
                  <div>
                    <strong>Colabora√ß√£o vis√≠vel</strong>
                    <p class="text-muted mb-0 small">Hist√≥rico de revis√µes e sugest√µes comunit√°rias deixam o conhecimento sempre pulsando.</p>
                  </div>
                </li>
              </ul>
              <div class="home-hero-progress">
                <div class="progress" role="progressbar" aria-label="Progresso comunit√°rio" aria-valuenow="82" aria-valuemin="0" aria-valuemax="100">
                  <div class="progress-bar bg-primary" style="width: 82%"></div>
                </div>
                <p class="text-muted small mb-0 mt-2">Cat√°logo comunit√°rio j√° cobre boa parte do plano 2024 ‚Äî falta pouco para chegar nos 100%.</p>
              </div>
              <div class="d-flex align-items-center gap-3">
                <div class="d-flex">
                  <span class="home-hero-avatar">L</span>
                  <span class="home-hero-avatar">M</span>
                  <span class="home-hero-avatar">S</span>
                </div>
                <p class="mb-0 small text-muted">Volunt√°rias, estudantes e facilitadoras mant√™m a FACODI viva todos os dias.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  {{ with .Content }}
  <section class="section section-sm home-about">
    <div class="container-xxl">
      <div class="row justify-content-center">
        <div class="col-lg-10 col-xl-9 col-xxl-8">
          <div class="lead text-muted home-about-content">
            {{ . | safeHTML }}
          </div>
        </div>
      </div>
    </div>
  </section>
  {{ end }}
  {{ $features := slice
    (dict "icon" "üó∫Ô∏è" "title" "Mapa curricular interativo" "description" "Navegue por cursos, semestres e disciplinas com uma vis√£o organizada dos curr√≠culos oficiais.")
    (dict "icon" "üéß" "title" "Playlists integradas" "description" "Cada unidade curricular recebe playlists do YouTube e materiais p√∫blicos selecionados pela comunidade.")
    (dict "icon" "‚úÖ" "title" "Marca√ß√£o de progresso" "description" "Acompanhe o que j√° foi estudado e celebre cada m√≥dulo conclu√≠do no seu tempo.")
    (dict "icon" "üåà" "title" "Curadoria diversa" "description" "Um coletivo vibrante garante acessibilidade, linguagem acolhedora e representatividade real.")
  }}
  <section class="section section-md home-features">
    <div class="container-xxl">
      <div class="row justify-content-between align-items-center g-4 mb-5">
        <div class="col-lg-7">
          <h2 class="h3 fw-bold mb-3">Experi√™ncia FACODI na palma da m√£o</h2>
          <p class="text-muted mb-0">Tecnologia aberta para organizar o curr√≠culo, apoiar quem estuda e valorizar cada contribui√ß√£o da comunidade.</p>
        </div>
        <div class="col-lg-4 text-lg-end">
          <span class="badge bg-primary-subtle text-primary rounded-pill px-3 py-2">Tudo responsivo, do mobile ao tel√£o</span>
        </div>
      </div>
      <div class="row g-4">
        {{ range $features }}
        <div class="col-12 col-md-6 col-xl-3 d-flex">
          <div class="home-feature-card w-100">
            <span class="home-feature-icon">{{ .icon }}</span>
            <h3 class="h5 fw-semibold">{{ .title }}</h3>
            <p class="text-muted mb-0">{{ .description }}</p>
          </div>
        </div>
        {{ end }}
      </div>
    </div>
  </section>
  {{ $communityHighlights := slice
    (dict "icon" "üåç" "title" "Curr√≠culo sem muros" "description" "Tudo aberto, organizado e traduzido para acolher quem chega agora ou est√° retomando os estudos.")
    (dict "icon" "ü§ù" "title" "Comunidade em rede" "description" "Facilitadoras, estudantes e parceiras garantem diversidade de refer√™ncias e vozes.")
    (dict "icon" "üöÄ" "title" "Trilhas vivas" "description" "Atualiza√ß√µes r√°pidas, hist√≥rico transparente e experimenta√ß√µes coletivas em cada unidade.")
  }}
  <section class="section section-md home-community">
    <div class="container-xxl">
      <div class="row g-5 align-items-center">
        <div class="col-lg-5">
          <h2 class="h3 fw-bold">Por que a FACODI √© diferente?</h2>
          <p class="text-muted mb-0">Uma jornada feita por e para quem acredita que o conhecimento precisa caber em todas as telas, realidades e sonhos. Do smartphone ao projetor da sala comunit√°ria, a experi√™ncia fica bonita e acess√≠vel.</p>
        </div>
        <div class="col-lg-7">
          <div class="row g-4">
            {{ range $communityHighlights }}
            <div class="col-12 col-md-4 d-flex">
              <div class="home-community-card w-100">
                <span class="home-community-icon">{{ .icon }}</span>
                <h3 class="h6 fw-semibold mb-2">{{ .title }}</h3>
                <p class="text-muted mb-0">{{ .description }}</p>
              </div>
            </div>
            {{ end }}
          </div>
        </div>
      </div>
    </div>
  </section>
  {{ with site.GetPage "section" "courses" }}
  <section class="section section-md home-courses">
    <div class="container-xxl">
      <div class="row justify-content-between align-items-center g-4 mb-4 mb-lg-5">
        <div class="col-lg-8">
          <h2 class="h3 fw-bold mb-2">Cursos em destaque na comunidade FACODI</h2>
          <p class="text-muted mb-0">Curr√≠culos oficiais de licenciaturas e √°reas afins com unidades curriculares, playlists abertas e resultados de aprendizagem organizados.</p>
        </div>
        <div class="col-lg-4 text-lg-end">
          <a class="btn btn-outline-primary rounded-pill" href="/courses/">Ver todos os cursos</a>
        </div>
      </div>
      <div class="row g-4 g-xl-5 row-cols-1 row-cols-lg-2 row-cols-xxl-3">
        {{ range .Sections }}
          {{ if .Params.code }}
          <div class="col d-flex">
            <div class="home-course-card card border-0 shadow-sm w-100">
              <div class="card-body p-4 p-xl-5">
                {{ with .Params.plan_version }}
                <span class="badge bg-primary-subtle text-primary text-uppercase mb-3">Plano {{ . }}</span>
                {{ end }}
                <h3 class="h4 mb-3"><a class="stretched-link text-decoration-none" href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
                {{ with .Params.summary }}
                <p class="text-muted mb-4">{{ . }}</p>
                {{ end }}
                <div class="d-flex flex-wrap gap-3 text-muted small">
                  {{ with .Params.ects_total }}<span><strong>{{ . }}</strong> ECTS</span>{{ end }}
                  {{ with .Params.duration_semesters }}<span><strong>{{ . }}</strong> semestres</span>{{ end }}
                  {{ with .Params.code }}<span>C√≥digo {{ . }}</span>{{ end }}
                </div>
              </div>
              {{ with .Params.ucs }}
              <div class="card-footer bg-transparent border-0 pt-0 pb-4 px-4 px-xl-5">
                <span class="small text-muted">{{ len . }} unidades curriculares j√° mapeadas pela comunidade</span>
              </div>
              {{ end }}
            </div>
          </div>
          {{ end }}
        {{ end }}
      </div>
    </div>
  </section>
  {{ end }}
  {{ $journeySteps := slice
    (dict "icon" "1" "title" "Escolha seu curr√≠culo" "description" "Visualize semestres, cargas hor√°rias, vers√µes e contexto institucional com clareza.")
    (dict "icon" "2" "title" "Aprofunde as unidades" "description" "Resultados de aprendizagem, playlists abertas e t√≥picos relacionados na mesma tela.")
    (dict "icon" "3" "title" "Compartilhe progresso" "description" "Marque conte√∫dos estudados, sugira materiais e mantenha vivo o hist√≥rico colaborativo.")
  }}
  <section class="section section-md home-journey text-white">
    <div class="container-xxl">
      <div class="row g-4 align-items-center">
        <div class="col-lg-5">
          <h2 class="h3 fw-bold">Como rola a jornada FACODI</h2>
          <p class="text-white-50 mb-0">Da escolha do curso at√© a celebra√ß√£o do progresso, cada passo foi pensado para apoiar quem aprende, quem ensina e quem compartilha conhecimento.</p>
        </div>
        <div class="col-lg-7">
          <div class="row g-4">
            {{ range $journeySteps }}
            <div class="col-12 col-md-4 d-flex">
              <div class="home-journey-card w-100">
                <span class="home-journey-number">{{ .icon }}</span>
                <h3 class="h6 fw-semibold">{{ .title }}</h3>
                <p class="text-white-50 mb-0">{{ .description }}</p>
              </div>
            </div>
            {{ end }}
          </div>
        </div>
      </div>
    </div>
  </section>
{{ end }}

{{ define "sidebar-prefooter" }}
<section class="section home-manifesto py-5">
  <div class="container-xxl">
    <div class="row justify-content-center text-center">
      <div class="col-lg-8 col-xl-7">
        <p class="text-uppercase text-muted small mb-2">Manifesto Monynha Softwares</p>
        <h2 class="h4 fw-bold mb-3">Democratizar tecnologia, combater hipocrisia e dar voz a quem cria fora do padr√£o</h2>
        <p class="text-muted mb-4">A FACODI nasce desse compromisso pol√≠tico-social: usar tecnologia acess√≠vel para abrir caminhos na educa√ß√£o superior, respeitando diversidade cultural e celebrando conhecimentos populares.</p>
        <a class="btn btn-outline-primary rounded-pill px-4" href="https://monynha.com" target="_blank" rel="noopener">Conhe√ßa o manifesto completo</a>
      </div>
    </div>
  </div>
</section>
{{ end }}

{{ define "sidebar-footer" }}
<section class="section home-cta bg-light py-5">
  <div class="container-xxl">
    <div class="row justify-content-center text-center">
      <div class="col-lg-7">
        <h2 class="fw-bold mb-3">Bora colar com a FACODI?</h2>
        <p class="text-muted mb-4">Traga playlists, PDFs p√∫blicos, artigos e ideias para fortalecer a faculdade comunit√°ria digital e deixar o curr√≠culo cada vez mais diverso.</p>
        <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
          <a class="btn btn-primary rounded-pill px-4" href="/courses/">Ver cursos e unidades curriculares</a>
          <a class="btn btn-outline-primary rounded-pill px-4" href="https://monynha.com" target="_blank" rel="noopener">Falar com a Monynha e sugerir materiais</a>
        </div>
      </div>
    </div>
  </div>
</section>
{{ end }}
