{{ define "main" }}
  {{ $scratch := newScratch }}
  {{ $scratch.Set "coursesCount" 0 }}
  {{ $scratch.Set "ucCount" 0 }}
  {{ with site.GetPage "section" "courses" }}
    {{ range .Sections }}
      {{ if .Params.code }}
        {{ $scratch.Add "coursesCount" 1 }}
        {{ with .Params.ucs }}
          {{ $scratch.Add "ucCount" (len .) }}
        {{ end }}
      {{ end }}
    {{ end }}
  {{ end }}
  <section class="hero hero-home position-relative overflow-hidden">
    <div class="container position-relative">
      <span class="hero-glow hero-glow-top"></span>
      <span class="hero-glow hero-glow-bottom"></span>
      <div class="row align-items-center justify-content-between g-5">
        <div class="col-lg-6 col-xl-5 text-center text-lg-start">
          <div class="hero-eyebrow text-uppercase fw-semibold">Ensino superior acess√≠vel, aberto e comunit√°rio.</div>
          <h1 class="hero-title display-4 fw-bold mb-3">FACODI ‚Äî Faculdade Comunit√°ria Digital</h1>
          <p class="hero-lead lead text-muted mb-4">{{ .Params.lead | safeHTML }}</p>
          <div class="hero-actions d-flex flex-column flex-sm-row gap-3 justify-content-center justify-content-lg-start mb-4">
            <a class="btn btn-primary btn-lg px-4" href="/courses/" role="button">Explorar trilhas</a>
            <a class="btn btn-outline-primary btn-lg px-4" href="https://monynha.com" target="_blank" rel="noopener">Conhe√ßa o ecossistema Monynha Softwares</a>
          </div>
          <div class="hero-pill-group d-flex flex-column flex-md-row align-items-stretch gap-3 text-muted small">
            <div class="hero-pill">
              <span class="hero-pill-icon">üíú</span>
              <span>Curr√≠culos oficiais e materiais p√∫blicos sem paywall, do jeitinho que a comunidade merece.</span>
            </div>
            <div class="hero-pill">
              <span class="hero-pill-icon">ü§ù</span>
              <span>Curadoria colaborativa com orgulho, diversidade e transpar√™ncia.</span>
            </div>
          </div>
        </div>
        <div class="col-lg-6 col-xl-5 ms-xl-auto">
          <div class="hero-card glass-card h-100">
            <p class="hero-card-subtitle text-uppercase fw-semibold mb-3">Em n√∫meros comunit√°rios</p>
            <div class="hero-stats mb-4">
              <div class="hero-stat">
                <span class="hero-stat-value">{{ $scratch.Get "coursesCount" }}</span>
                <p class="hero-stat-label mb-0">cursos oficiais organizados</p>
              </div>
              <div class="hero-stat">
                <span class="hero-stat-value">{{ $scratch.Get "ucCount" }}</span>
                <p class="hero-stat-label mb-0">unidades curriculares com playlists e materiais livres</p>
              </div>
            </div>
            <p class="hero-note text-white-75 mb-4">Progresso marcado por quem estuda e vers√µes rastre√°veis para todo mundo confiar.</p>
            <p class="hero-card-footer text-white-75 mb-0">Criado pela <a class="link-light text-decoration-none" href="https://monynha.com" target="_blank" rel="noopener">Monynha Softwares</a> para democratizar tecnologia, combater hipocrisia e amplificar quem aprende fora do padr√£o.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  {{ with .Content }}
  <section class="section section-sm pt-0 mission-intro">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-10 col-xl-8">
          <div class="mission-card lead text-muted">
            {{ . | safeHTML }}
          </div>
        </div>
      </div>
    </div>
  </section>
  {{ end }}
  {{ $features := slice
    (dict "icon" "üó∫Ô∏è" "title" "Mapa curricular interativo" "description" "Navegue por cursos, semestres e disciplinas com uma vis√£o organizada dos curr√≠culos oficiais.")
    (dict "icon" "üéß" "title" "Playlists integradas" "description" "Cada unidade curricular recebe playlists do YouTube e materiais p√∫blicos selecionados pela comunidade.")
    (dict "icon" "‚úÖ" "title" "Marca√ß√£o de progresso" "description" "Acompanhe o que j√° foi estudado e celebre cada m√≥dulo conclu√≠do no seu tempo.")
    (dict "icon" "üåà" "title" "Curadoria diversa" "description" "Um coletivo vibrante garante acessibilidade, linguagem acolhedora e representatividade real.")
  }}
  <section class="section section-md features-section">
    <div class="container">
      <div class="row justify-content-center text-center mb-5">
        <div class="col-lg-8">
          <h2 class="section-title">Experi√™ncia FACODI na palma da m√£o</h2>
          <p class="section-subtitle">Tecnologia aberta para organizar o curr√≠culo, apoiar quem estuda e valorizar cada contribui√ß√£o da comunidade.</p>
        </div>
      </div>
      <div class="row row-cols-1 row-cols-md-2 row-cols-xl-4 g-4">
        {{ range $features }}
        <div class="col">
          <div class="feature-card h-100">
            <div class="feature-icon">{{ .icon }}</div>
            <h3 class="feature-title">{{ .title }}</h3>
            <p class="feature-description mb-0">{{ .description }}</p>
          </div>
        </div>
        {{ end }}
      </div>
    </div>
  </section>
  {{ with site.GetPage "section" "courses" }}
  <section class="section section-md courses-section">
    <div class="container">
      <div class="row justify-content-between align-items-end mb-4">
        <div class="col-lg-8">
          <h2 class="section-title">Cursos em destaque na comunidade FACODI</h2>
          <p class="section-subtitle mb-0">Curr√≠culos oficiais de licenciaturas e √°reas afins com unidades curriculares, playlists abertas e resultados de aprendizagem organizados.</p>
        </div>
        <div class="col-lg-4 text-lg-end mt-3 mt-lg-0">
          <a class="btn btn-outline-primary" href="/courses/">Ver todos os cursos</a>
        </div>
      </div>
      <div class="row row-cols-1 row-cols-lg-2 g-4">
        {{ range .Sections }}
          {{ if .Params.code }}
          <div class="col">
            <div class="course-card h-100">
              <div class="course-card-body">
                {{ with .Params.plan_version }}
                <span class="course-plan">Plano {{ . }}</span>
                {{ end }}
                <h3 class="course-title"><a class="stretched-link" href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
                {{ with .Params.summary }}
                <p class="course-summary">{{ . }}</p>
                {{ end }}
                <div class="course-meta">
                  {{ with .Params.ects_total }}<span><strong>{{ . }}</strong> ECTS</span>{{ end }}
                  {{ with .Params.duration_semesters }}<span><strong>{{ . }}</strong> semestres</span>{{ end }}
                  {{ with .Params.code }}<span>C√≥digo {{ . }}</span>{{ end }}
                </div>
              </div>
              {{ with .Params.ucs }}
              <div class="course-card-footer">
                <span>{{ len . }} unidades curriculares j√° mapeadas pela comunidade</span>
              </div>
              {{ end }}
            </div>
          </div>
          {{ end }}
        {{ end }}
      </div>
    </div>
  </section>
  {{ end }}
  <section class="section section-md journey-section text-white">
    <div class="container">
      <div class="row g-5 align-items-center">
        <div class="col-lg-5">
          <h2 class="section-title text-white">Como rola a jornada FACODI</h2>
          <p class="section-subtitle text-white-75">Da escolha do curso at√© a celebra√ß√£o do progresso, cada passo foi pensado para apoiar quem aprende, quem ensina e quem curte compartilhar conhecimento.</p>
        </div>
        <div class="col-lg-7">
          <ol class="journey-steps">
            <li>Escolha um curr√≠culo oficial e visualize semestres, cargas hor√°rias, vers√µes e contexto institucional.</li>
            <li>Mergulhe nas unidades curriculares com resultados de aprendizagem, t√≥picos relacionados e playlists abertas.</li>
            <li>Marque o progresso, compartilhe materiais com a comunidade e mantenha vivo o hist√≥rico de revis√µes.</li>
          </ol>
        </div>
      </div>
    </div>
  </section>
{{ end }}

{{ define "sidebar-prefooter" }}
<section class="section container-fluid py-5 manifesto-section">
  <div class="row justify-content-center text-center">
    <div class="col-lg-8">
      <div class="manifesto-card">
        <p class="text-uppercase small text-muted mb-2">Manifesto Monynha Softwares</p>
        <h2 class="section-title">Democratizar tecnologia, combater hipocrisia e dar voz a quem cria fora do padr√£o</h2>
        <p class="section-subtitle">A FACODI nasce desse compromisso pol√≠tico-social: usar tecnologia acess√≠vel para abrir caminhos na educa√ß√£o superior, respeitando diversidade cultural e celebrando conhecimentos populares.</p>
        <a class="btn btn-outline-primary" href="https://monynha.com" target="_blank" rel="noopener">Conhe√ßa o manifesto completo</a>
      </div>
    </div>
  </div>
</section>
{{ end }}

{{ define "sidebar-footer" }}
<section class="section section-md container-fluid cta-section">
  <div class="row justify-content-center text-center">
    <div class="col-lg-7">
      <div class="cta-card">
        <h2 class="section-title">Bora colar com a FACODI?</h2>
        <p class="section-subtitle">Traga playlists, PDFs p√∫blicos, artigos e ideias para fortalecer a faculdade comunit√°ria digital e deixar o curr√≠culo cada vez mais diverso.</p>
        <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
          <a class="btn btn-primary" href="/courses/">Ver cursos e unidades curriculares</a>
          <a class="btn btn-outline-primary" href="https://monynha.com" target="_blank" rel="noopener">Falar com a Monynha e sugerir materiais</a>
        </div>
      </div>
    </div>
  </div>
</section>
{{ end }}
