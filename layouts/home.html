{{ define "main" }}
  {{ $scratch := newScratch }}
  {{ $scratch.Set "coursesCount" 0 }}
  {{ $scratch.Set "ucCount" 0 }}
  {{ with site.GetPage "section" "courses" }}
    {{ range .Sections }}
      {{ if .Params.code }}
        {{ $scratch.Add "coursesCount" 1 }}
        {{ with .Params.ucs }}
          {{ $scratch.Add "ucCount" (len .) }}
        {{ end }}
      {{ end }}
    {{ end }}
  {{ end }}

  <section class="facodi-hero">
    <div class="container-lg">
      <div class="facodi-hero__grid">
        <div class="facodi-hero__content">
          <div class="facodi-hero__intro">
            <span class="facodi-pill facodi-pill--brand facodi-hero__badge" data-i18n="hero.badge" translate="no">Ensino superior acess√≠vel, aberto e comunit√°rio</span>
            <h1 class="facodi-hero__title" data-i18n="hero.title" translate="no">FACODI ‚Äî Faculdade Comunit√°ria Digital</h1>
            <p class="facodi-hero__description" data-i18n="hero.lead" translate="no">{{ .Params.lead | safeHTML }}</p>
          </div>
          <div class="facodi-hero__actions">
            <a class="facodi-hero__cta" href="/courses/" role="button" data-i18n="hero.primaryCta" translate="no">Explorar trilhas</a>
            <a class="facodi-hero__secondary" href="https://monynha.com" target="_blank" rel="noopener" data-i18n="hero.secondaryCta" translate="no">Conhe√ßa o ecossistema Monynha Softwares</a>
          </div>
          <div class="facodi-hero__meta">
            <div class="facodi-hero__meta-item">
              <span class="facodi-pill facodi-pill--success" data-i18n="hero.meta.openLabel" translate="no">Aberta e gratuita</span>
              <p data-i18n="hero.meta.openText" translate="no">Curr√≠culos oficiais e materiais p√∫blicos sem paywall, do jeitinho que a comunidade merece.</p>
            </div>
            <div class="facodi-hero__meta-item">
              <span class="facodi-pill facodi-pill--outline" data-i18n="hero.meta.communityLabel" translate="no">Comunidade Monynha</span>
              <p data-i18n="hero.meta.communityText" translate="no">Curadoria colaborativa com orgulho, diversidade e transpar√™ncia.</p>
            </div>
          </div>
        </div>
        <div class="facodi-hero__card">
          <span class="facodi-hero__card-label" data-i18n="hero.statsLabel" translate="no">Em n√∫meros comunit√°rios</span>
          <ul class="facodi-hero__stat-list">
            <li data-i18n="hero.stats.courses" data-i18n-vars='{{ dict "count" ($scratch.Get "coursesCount") | jsonify }}' data-i18n-html="true" translate="no"><strong>{{ $scratch.Get "coursesCount" }}</strong> cursos oficiais organizados</li>
            <li data-i18n="hero.stats.ucs" data-i18n-vars='{{ dict "count" ($scratch.Get "ucCount") | jsonify }}' data-i18n-html="true" translate="no"><strong>{{ $scratch.Get "ucCount" }}</strong> unidades curriculares com playlists e materiais livres</li>
            <li data-i18n="hero.stats.progress" translate="no">Progresso marcado por quem estuda e vers√µes rastre√°veis para todo mundo confiar.</li>
          </ul>
          <p class="facodi-hero__card-foot" data-i18n="hero.cardFoot" data-i18n-html="true" translate="no">Criado pela <a href="https://monynha.com" target="_blank" rel="noopener">Monynha Softwares</a> para democratizar tecnologia, combater hipocrisia e amplificar quem aprende fora do padr√£o.</p>
        </div>
      </div>
    </div>
  </section>

  {{ with .Content }}
  <section class="facodi-section facodi-section--intro">
    <div class="container-lg">
      <div class="facodi-section__body notranslate" translate="no">
        {{ . | safeHTML }}
      </div>
    </div>
  </section>
  {{ end }}

  {{ $features := slice
    (dict "icon" "üó∫Ô∏è" "key" "map" "title" "Mapa curricular interativo" "description" "Navegue por cursos, semestres e disciplinas com uma vis√£o organizada dos curr√≠culos oficiais.")
    (dict "icon" "üéß" "key" "playlists" "title" "Playlists integradas" "description" "Cada unidade curricular recebe playlists do YouTube e materiais p√∫blicos selecionados pela comunidade.")
    (dict "icon" "‚úÖ" "key" "progress" "title" "Marca√ß√£o de progresso" "description" "Acompanhe o que j√° foi estudado e celebre cada m√≥dulo conclu√≠do no seu tempo.")
    (dict "icon" "üåà" "key" "diversity" "title" "Curadoria diversa" "description" "Um coletivo vibrante garante acessibilidade, linguagem acolhedora e representatividade real.")
  }}
  <section class="facodi-section facodi-section--features">
    <div class="container-lg section-wrap">
      <div class="facodi-section__header section-header text-center">
        <span class="facodi-section__eyebrow" data-i18n="features.eyebrow" translate="no">Experi√™ncia FACODI</span>
        <h2 class="section-title facodi-section__title" data-i18n="features.title" translate="no">Experi√™ncia FACODI na palma da m√£o</h2>
        <p class="facodi-section__subtitle" data-i18n="features.subtitle" translate="no">Tecnologia aberta para organizar o curr√≠culo, apoiar quem estuda e valorizar cada contribui√ß√£o da comunidade.</p>
      </div>
      <div class="facodi-grid facodi-grid--features">
        {{ range $features }}
        <div class="facodi-feature-card">
          <span class="facodi-feature-card__icon">{{ .icon }}</span>
          <h3 class="facodi-feature-card__title" data-i18n="{{ printf "features.%s.title" .key }}" translate="no">{{ .title }}</h3>
          <p class="facodi-feature-card__description" data-i18n="{{ printf "features.%s.description" .key }}" translate="no">{{ .description }}</p>
        </div>
        {{ end }}
      </div>
    </div>
  </section>

  {{ with site.GetPage "section" "courses" }}
  <section class="facodi-section facodi-section--courses">
    <div class="container-lg section-wrap">
      <div class="facodi-section__header facodi-section__header--split section-header">
        <div class="section-header section-header--flush">
          <span class="facodi-section__eyebrow" data-i18n="courses.eyebrow" translate="no">Curr√≠culos abertos</span>
          <h2 class="section-title facodi-section__title" data-i18n="courses.title" translate="no">Cursos em destaque na comunidade FACODI</h2>
          <p class="facodi-section__subtitle" data-i18n="courses.subtitle" translate="no">Curr√≠culos oficiais de licenciaturas e √°reas afins com unidades curriculares, playlists abertas e resultados de aprendizagem organizados.</p>
        </div>
        <div class="facodi-section__cta">
          <a class="facodi-link facodi-link--cta" href="/courses/" data-i18n="courses.viewAll" translate="no">Ver todos os cursos</a>
        </div>
      </div>
      <div class="facodi-grid facodi-grid--courses">
        {{ range .Sections }}
          {{ if .Params.code }}
          <article class="facodi-course-card">
            <div class="facodi-course-card__body">
              {{ with .Params.plan_version }}
              <span class="facodi-pill facodi-pill--outline" data-i18n="courses.plan" data-i18n-vars='{{ dict "plan" . | jsonify }}' translate="no">Plano {{ . }}</span>
              {{ end }}
              <h3 class="facodi-course-card__title" translate="no"><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
              {{ with .Params.summary }}
              <p class="facodi-course-card__summary notranslate" translate="no">{{ . }}</p>
              {{ end }}
            </div>
            <div class="facodi-course-card__meta">
              <div class="facodi-course-card__stats">
                {{ with .Params.ects_total }}<span data-i18n="courses.stats.ects" data-i18n-vars='{{ dict "ects" . | jsonify }}' data-i18n-html="true" translate="no"><strong>{{ . }}</strong> ECTS</span>{{ end }}
                {{ with .Params.duration_semesters }}<span data-i18n="courses.stats.duration" data-i18n-vars='{{ dict "semesters" . | jsonify }}' data-i18n-html="true" translate="no"><strong>{{ . }}</strong> semestres</span>{{ end }}
                {{ with .Params.code }}<span data-i18n="courses.stats.code" data-i18n-vars='{{ dict "code" . | jsonify }}' data-i18n-html="true" translate="no">C√≥digo {{ . }}</span>{{ end }}
              </div>
              {{ with .Params.ucs }}
              <p class="facodi-course-card__foot" data-i18n="courses.ucSummary" data-i18n-vars='{{ dict "count" (len .) | jsonify }}' data-i18n-html="true" translate="no">{{ len . }} unidades curriculares j√° mapeadas pela comunidade</p>
              {{ end }}
            </div>
          </article>
          {{ end }}
        {{ end }}
      </div>
    </div>
  </section>
  {{ end }}

  <section class="facodi-section facodi-section--journey">
    <div class="container-lg section-wrap">
      <div class="facodi-section__header facodi-section__header--split section-header">
        <div class="section-header section-header--flush">
          <span class="facodi-section__eyebrow facodi-section__eyebrow--light" data-i18n="journey.eyebrow" translate="no">Trilha comunit√°ria</span>
          <h2 class="section-title facodi-section__title" data-i18n="journey.title" translate="no">Como rola a jornada FACODI</h2>
          <p class="facodi-section__subtitle" data-i18n="journey.subtitle" translate="no">Da escolha do curso at√© a celebra√ß√£o do progresso, cada passo foi pensado para apoiar quem aprende, quem ensina e quem curte compartilhar conhecimento.</p>
        </div>
      </div>
      <ol class="facodi-journey__list">
        <li data-i18n="journey.steps.first" translate="no">Escolha um curr√≠culo oficial e visualize semestres, cargas hor√°rias, vers√µes e contexto institucional.</li>
        <li data-i18n="journey.steps.second" translate="no">Mergulhe nas unidades curriculares com resultados de aprendizagem, t√≥picos relacionados e playlists abertas.</li>
        <li data-i18n="journey.steps.third" translate="no">Marque o progresso, compartilhe materiais com a comunidade e mantenha vivo o hist√≥rico de revis√µes.</li>
      </ol>
    </div>
  </section>
  <script>
    window.facodiPageContext = Object.assign(window.facodiPageContext || {}, { pageType: 'home' });
  </script>
{{ end }}

{{ define "sidebar-prefooter" }}
<section class="facodi-section facodi-section--manifesto">
  <div class="container-lg section-wrap">
    <div class="facodi-manifesto">
      <span class="facodi-section__eyebrow" data-i18n="manifesto.eyebrow" translate="no">Manifesto Monynha Softwares</span>
      <h2 class="section-title facodi-manifesto__title" data-i18n="manifesto.title" translate="no">Democratizar tecnologia, combater hipocrisia e dar voz a quem cria fora do padr√£o</h2>
      <p class="facodi-manifesto__description" data-i18n="manifesto.description" translate="no">A FACODI nasce desse compromisso pol√≠tico-social: usar tecnologia acess√≠vel para abrir caminhos na educa√ß√£o superior, respeitando diversidade cultural e celebrando conhecimentos populares.</p>
      <a class="facodi-link facodi-link--cta" href="https://monynha.com" target="_blank" rel="noopener" data-i18n="manifesto.cta" translate="no">Conhe√ßa o manifesto completo</a>
    </div>
  </div>
</section>
{{ end }}

{{ define "sidebar-footer" }}
<section class="facodi-section facodi-section--cta">
  <div class="container-lg section-wrap">
    <div class="facodi-cta">
      <h2 class="section-title facodi-cta__title" data-i18n="cta.title" translate="no">Bora colar com a FACODI?</h2>
      <p class="facodi-cta__description" data-i18n="cta.description" translate="no">Traga playlists, PDFs p√∫blicos, artigos e ideias para fortalecer a faculdade comunit√°ria digital e deixar o curr√≠culo cada vez mais diverso.</p>
      <div class="facodi-cta__actions">
        <a class="facodi-hero__cta" href="/courses/" data-i18n="cta.primary" translate="no">Ver cursos e unidades curriculares</a>
        <a class="facodi-hero__secondary" href="https://monynha.com" target="_blank" rel="noopener" data-i18n="cta.secondary" translate="no">Falar com a Monynha e sugerir materiais</a>
      </div>
    </div>
  </div>
</section>
{{ end }}
