{{ define "main" }}
  {{ $scratch := newScratch }}
  {{ $scratch.Set "coursesCount" 0 }}
  {{ $scratch.Set "ucCount" 0 }}
  {{ with site.GetPage "section" "courses" }}
    {{ range .Sections }}
      {{ if .Params.code }}
        {{ $scratch.Add "coursesCount" 1 }}
        {{ with .Params.ucs }}
          {{ $scratch.Add "ucCount" (len .) }}
        {{ end }}
      {{ end }}
    {{ end }}
  {{ end }}
  <section class="landing">
    <div class="shell landing__grid">
      <div class="landing__content">
        <span class="landing__eyebrow">Ensino superior acess√≠vel, aberto e comunit√°rio.</span>
        <h1 class="landing__title">FACODI ‚Äî Faculdade Comunit√°ria Digital</h1>
        <p class="landing__lead">{{ .Params.lead | safeHTML }}</p>
        <div class="landing__actions">
          <a class="cta cta--primary" href="/courses/">Explorar trilhas</a>
          <a class="cta cta--secondary" href="https://monynha.com" target="_blank" rel="noopener">Conhe√ßa o ecossistema Monynha</a>
        </div>
        <dl class="landing__stats">
          <div class="landing__stat">
            <dt>Curr√≠culos comunit√°rios</dt>
            <dd class="landing__stat-value" data-animate-count data-target="{{ $scratch.Get "coursesCount" }}">{{ $scratch.Get "coursesCount" }}</dd>
            <span class="landing__stat-caption">Cursos oficiais j√° organizados e dispon√≠veis</span>
          </div>
          <div class="landing__stat">
            <dt>Unidades curriculares</dt>
            <dd class="landing__stat-value" data-animate-count data-target="{{ $scratch.Get "ucCount" }}">{{ $scratch.Get "ucCount" }}</dd>
            <span class="landing__stat-caption">Playlists abertas, conte√∫dos p√∫blicos e resultados</span>
          </div>
          <div class="landing__stat">
            <dt>Comunidade ativa</dt>
            <dd class="landing__stat-value" data-animate-count data-target="365">365</dd>
            <span class="landing__stat-caption">Dias por ano de curadoria colaborativa e transparente</span>
          </div>
        </dl>
      </div>
      <div class="landing__aside">
        <article class="hero-card">
          <div class="hero-card__inner">
            <span class="hero-card__chip">Trilhas abertas pela comunidade</span>
            <h2 class="hero-card__title">Educa√ß√£o superior gratuita, com carinho e tecnologia acess√≠vel</h2>
            <p class="hero-card__lead">Curr√≠culos oficiais ganham nova vida com playlists, materiais e orienta√ß√µes constru√≠das a muitas m√£os.</p>
            <ul class="hero-card__list">
              <li><strong>Playlists p√∫blicas:</strong> v√≠deos, podcasts e refer√™ncias abertas organizadas por quem estuda.</li>
              <li><strong>Resultados de aprendizagem:</strong> objetivos claros para acompanhar o que foi conquistado em cada trilha.</li>
              <li><strong>Transpar√™ncia total:</strong> hist√≥rico de vers√µes e sugest√µes vis√≠veis para toda a comunidade.</li>
            </ul>
            <div class="hero-card__footer">
              <span class="hero-card__avatar">‚àû</span>
              <span>Progresso que abra√ßa diferentes ritmos, hist√≥rias e contextos culturais.</span>
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>
  {{ with .Content }}
  <section class="home-richtext">
    <div class="shell home-richtext__inner">{{ . | safeHTML }}</div>
  </section>
  {{ end }}
  {{ $features := slice
    (dict "icon" "üó∫Ô∏è" "title" "Mapa curricular interativo" "description" "Navegue por cursos, semestres e disciplinas com uma vis√£o organizada dos curr√≠culos oficiais.")
    (dict "icon" "üéß" "title" "Playlists integradas" "description" "Cada unidade curricular recebe playlists do YouTube e materiais p√∫blicos selecionados pela comunidade.")
    (dict "icon" "‚úÖ" "title" "Marca√ß√£o de progresso" "description" "Acompanhe o que j√° foi estudado e celebre cada m√≥dulo conclu√≠do no seu tempo.")
    (dict "icon" "üåà" "title" "Curadoria diversa" "description" "Um coletivo vibrante garante acessibilidade, linguagem acolhedora e representatividade real.")
  }}
  <section class="experience">
    <div class="shell">
      <header class="section-header">
        <span class="section-header__eyebrow">Experi√™ncia FACODI</span>
        <h2 class="section-header__title">Tecnologia aberta para acolher, conectar e transformar</h2>
        <p class="section-header__description">Explorar uma trilha FACODI √© descobrir conte√∫dos acess√≠veis, caminhos flex√≠veis e acompanhamento transparente ‚Äî tudo constru√≠do com carinho pela comunidade Monynha.</p>
      </header>
      <div class="experience__grid">
        {{ range $features }}
        <article class="experience__item">
          <span class="experience__icon">{{ .icon }}</span>
          <h3>{{ .title }}</h3>
          <p>{{ .description }}</p>
        </article>
        {{ end }}
      </div>
    </div>
  </section>
  {{ with site.GetPage "section" "courses" }}
  <section class="course-showcase" id="cursos">
    <div class="shell">
      <header class="section-header section-header--split">
        <div>
          <span class="section-header__eyebrow">Cursos em destaque</span>
          <h2 class="section-header__title">Curr√≠culos que a comunidade FACODI j√° abra√ßou</h2>
          <p class="section-header__description">Licenciaturas e trilhas tecnol√≥gicas com conte√∫dos abertos, orienta√ß√µes detalhadas e espa√ßos para voc√™ contribuir.</p>
        </div>
        <a class="cta cta--ghost" href="/courses/">Ver todas as trilhas</a>
      </header>
      <div class="course-showcase__grid">
        {{ range .Sections }}
          {{ if .Params.code }}
          <article class="course-card">
            <div class="course-card__inner">
              <div class="course-card__badges">
                <span class="course-card__badge">{{ .Params.code }}</span>
                {{ with .Params.plan_version }}<span class="course-card__badge">Plano {{ . }}</span>{{ end }}
              </div>
              <h3 class="course-card__title"><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
              {{ with .Params.summary }}<p class="course-card__description">{{ . }}</p>{{ end }}
              <div class="course-card__meta">
                {{ with .Params.ects_total }}<span><strong>{{ . }}</strong> ECTS</span>{{ end }}
                {{ with .Params.duration_semesters }}<span><strong>{{ . }}</strong> semestres</span>{{ end }}
                {{ with .Params.language }}<span>{{ . | title }}</span>{{ end }}
              </div>
              {{ with .Params.ucs }}
              <div class="course-card__footer">{{ len . }} unidades curriculares com playlists em evolu√ß√£o</div>
              {{ end }}
            </div>
          </article>
          {{ end }}
        {{ end }}
      </div>
    </div>
  </section>
  {{ end }}
  <section class="journey">
    <div class="shell journey__grid">
      <div class="journey__intro">
        <header class="section-header">
          <span class="section-header__eyebrow">Jornada comunit√°ria</span>
          <h2 class="section-header__title">Como a FACODI acompanha cada pessoa que aprende</h2>
          <p class="section-header__description">Da pesquisa do curr√≠culo √† conquista das compet√™ncias, cada etapa √© documentada com transpar√™ncia para que todo mundo possa colaborar, propor melhorias e celebrar avan√ßos.</p>
        </header>
      </div>
      <ol class="journey__list">
        <li class="journey__item">
          <span class="journey__step">1</span>
          <div>
            <h3>Escolha um curr√≠culo oficial</h3>
            <p>Visualize semestres, cargas hor√°rias, vers√µes e contexto institucional das trilhas abertas pela comunidade FACODI.</p>
          </div>
        </li>
        <li class="journey__item">
          <span class="journey__step">2</span>
          <div>
            <h3>Explore unidades curriculares</h3>
            <p>Resultados de aprendizagem, playlists abertas e t√≥picos relacionados para estudar no seu ritmo e com repert√≥rios diversos.</p>
          </div>
        </li>
        <li class="journey__item">
          <span class="journey__step">3</span>
          <div>
            <h3>Construa junto com a comunidade</h3>
            <p>Marque progresso, compartilhe materiais e acompanhe o hist√≥rico de revis√µes para manter tudo vivo e confi√°vel.</p>
          </div>
        </li>
      </ol>
    </div>
  </section>
{{ end }}

{{ define "sidebar-prefooter" }}
<section class="cta-panel">
  <div class="shell cta-panel__inner">
    <span class="section-header__eyebrow">Manifesto Monynha Softwares</span>
    <h2>Democratizar tecnologia, combater hipocrisia e dar voz a quem cria fora do padr√£o</h2>
    <p>A FACODI nasce desse compromisso pol√≠tico-social: usar tecnologia acess√≠vel para abrir caminhos na educa√ß√£o superior, respeitando diversidade cultural e celebrando conhecimentos populares.</p>
    <a class="cta cta--secondary" href="https://monynha.com" target="_blank" rel="noopener">Conhe√ßa o manifesto completo</a>
  </div>
</section>
{{ end }}

{{ define "sidebar-footer" }}
<section class="bottom-cta">
  <div class="shell bottom-cta__inner">
    <h2>Bora colar com a FACODI?</h2>
    <p>Traga playlists, PDFs p√∫blicos, artigos e ideias para fortalecer a faculdade comunit√°ria digital e deixar o curr√≠culo cada vez mais diverso.</p>
    <div class="bottom-cta__actions">
      <a class="cta cta--primary" href="/courses/">Ver cursos e unidades curriculares</a>
      <a class="cta cta--ghost" href="https://monynha.com" target="_blank" rel="noopener">Falar com a Monynha e contribuir</a>
    </div>
  </div>
</section>
{{ end }}

{{ define "scripts" }}
<script src="{{ "js/home-hero.js" | relURL }}" defer></script>
{{ end }}
