{{ define "main" }}
  {{ $scratch := newScratch }}
  {{ $scratch.Set "coursesCount" 0 }}
  {{ $scratch.Set "ucCount" 0 }}
  {{ with site.GetPage "section" "courses" }}
    {{ range .Sections }}
      {{ if .Params.code }}
        {{ $scratch.Add "coursesCount" 1 }}
        {{ with .Params.ucs }}
          {{ $scratch.Add "ucCount" (len .) }}
        {{ end }}
      {{ end }}
    {{ end }}
  {{ end }}
  <section class="section container-fluid mt-n3 py-5 py-lg-5">
    <div class="row align-items-center justify-content-center g-5">
      <div class="col-lg-6 col-xl-5 text-center text-lg-start">
        <span class="badge rounded-pill bg-primary text-uppercase mb-3">FACODI ‚Äî Faculdade Comunit√°ria Digital</span>
        <h1 class="display-5 fw-bold mb-4">Educa√ß√£o aberta, orgulhosamente comunit√°ria e gratuita</h1>
        <p class="lead text-muted mb-4">{{ .Params.lead | safeHTML }}</p>
        <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center justify-content-lg-start mb-4">
          <a class="btn btn-primary btn-lg rounded-pill px-4" href="/courses/" role="button">Explorar curr√≠culos</a>
          <a class="btn btn-outline-primary btn-lg rounded-pill px-4" href="https://monynha.com" target="_blank" rel="noopener">Conhe√ßa o ecossistema Monynha Softwares</a>
        </div>
        <div class="d-flex flex-column flex-lg-row gap-3 align-items-center align-items-lg-start text-muted small">
          <div class="d-flex align-items-center gap-2">
            <span class="badge bg-success text-white rounded-pill">Aberta e gratuita</span>
            <span>Curr√≠culos oficiais e materiais p√∫blicos sem paywall, do jeitinho que a comunidade merece.</span>
          </div>
          <div class="d-flex align-items-center gap-2">
            <span class="badge bg-light text-dark border rounded-pill">Comunidade Monynha</span>
            <span>Curadoria colaborativa com orgulho, diversidade e transpar√™ncia.</span>
          </div>
        </div>
      </div>
      <div class="col-lg-5 col-xl-5">
        <div class="card shadow-sm border-0 h-100">
          <div class="card-body p-4 p-lg-5">
            <p class="text-uppercase text-muted fw-semibold mb-3">Em n√∫meros comunit√°rios</p>
            <ul class="list-unstyled fs-5 mb-4">
              <li class="mb-2"><strong>{{ $scratch.Get "coursesCount" }}</strong> cursos oficiais organizados</li>
              <li class="mb-2"><strong>{{ $scratch.Get "ucCount" }}</strong> unidades curriculares com playlists e materiais livres</li>
              <li>Progresso marcado por quem estuda e vers√µes rastre√°veis para todo mundo confiar.</li>
            </ul>
            <p class="mb-0 text-muted">Criado pela <a class="text-decoration-none" href="https://monynha.com" target="_blank" rel="noopener">Monynha Softwares</a> para democratizar tecnologia, combater hipocrisia e amplificar quem aprende fora do padr√£o.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  {{ with .Content }}
  <section class="section section-sm pt-0">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-10 col-xl-8 lead text-muted">
          {{ . | safeHTML }}
        </div>
      </div>
    </div>
  </section>
  {{ end }}
  {{ $features := slice
    (dict "icon" "üó∫Ô∏è" "title" "Mapa curricular interativo" "description" "Navegue por cursos, semestres e disciplinas com uma vis√£o organizada dos curr√≠culos oficiais.")
    (dict "icon" "üéß" "title" "Playlists integradas" "description" "Cada unidade curricular recebe playlists do YouTube e materiais p√∫blicos selecionados pela comunidade.")
    (dict "icon" "‚úÖ" "title" "Marca√ß√£o de progresso" "description" "Acompanhe o que j√° foi estudado e celebre cada m√≥dulo conclu√≠do no seu tempo.")
    (dict "icon" "üåà" "title" "Curadoria diversa" "description" "Um coletivo vibrante garante acessibilidade, linguagem acolhedora e representatividade real.")
  }}
  <section class="section section-md bg-light">
    <div class="container">
      <div class="row justify-content-center text-center mb-5">
        <div class="col-lg-8">
          <h2 class="h3 fw-bold">Experi√™ncia FACODI na palma da m√£o</h2>
          <p class="text-muted">Tecnologia aberta para organizar o curr√≠culo, apoiar quem estuda e valorizar cada contribui√ß√£o da comunidade.</p>
        </div>
      </div>
      <div class="row row-cols-1 row-cols-md-2 row-cols-xl-4 g-4">
        {{ range $features }}
        <div class="col">
          <div class="card h-100 border-0 shadow-sm">
            <div class="card-body p-4">
              <span class="d-inline-flex justify-content-center align-items-center rounded-circle bg-primary bg-opacity-10 text-primary fs-3 mb-3" style="width:3rem;height:3rem;">{{ .icon }}</span>
              <h3 class="h5 fw-semibold">{{ .title }}</h3>
              <p class="text-muted mb-0">{{ .description }}</p>
            </div>
          </div>
        </div>
        {{ end }}
      </div>
    </div>
  </section>
  {{ with site.GetPage "section" "courses" }}
  <section class="section section-md">
    <div class="container">
      <div class="row justify-content-between align-items-end mb-4">
        <div class="col-lg-8">
          <h2 class="h3 fw-bold">Cursos em destaque na comunidade FACODI</h2>
          <p class="text-muted mb-0">Curr√≠culos oficiais de licenciaturas e √°reas afins com unidades curriculares, playlists abertas e resultados de aprendizagem organizados.</p>
        </div>
        <div class="col-lg-4 text-lg-end mt-3 mt-lg-0">
          <a class="btn btn-outline-primary rounded-pill" href="/courses/">Ver todos os cursos</a>
        </div>
      </div>
      <div class="row row-cols-1 row-cols-lg-2 g-4">
        {{ range .Sections }}
          {{ if .Params.code }}
          <div class="col">
            <div class="card h-100 shadow-sm border-0">
              <div class="card-body p-4">
                {{ with .Params.plan_version }}
                <span class="badge bg-secondary text-uppercase mb-3">Plano {{ . }}</span>
                {{ end }}
                <h3 class="h4"><a class="stretched-link text-decoration-none" href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
                {{ with .Params.summary }}
                <p class="text-muted">{{ . }}</p>
                {{ end }}
                <div class="d-flex flex-wrap gap-3 text-muted small">
                  {{ with .Params.ects_total }}<span><strong>{{ . }}</strong> ECTS</span>{{ end }}
                  {{ with .Params.duration_semesters }}<span><strong>{{ . }}</strong> semestres</span>{{ end }}
                  {{ with .Params.code }}<span>C√≥digo {{ . }}</span>{{ end }}
                </div>
              </div>
              {{ with .Params.ucs }}
              <div class="card-footer bg-transparent border-0 pt-0 pb-4 px-4">
                <span class="small text-muted">{{ len . }} unidades curriculares j√° mapeadas pela comunidade</span>
              </div>
              {{ end }}
            </div>
          </div>
          {{ end }}
        {{ end }}
      </div>
    </div>
  </section>
  {{ end }}
  <section class="section section-md bg-dark text-white">
    <div class="container">
      <div class="row g-5 align-items-center">
        <div class="col-lg-5">
          <h2 class="h3 fw-bold">Como rola a jornada FACODI</h2>
          <p class="text-white-50">Da escolha do curso at√© a celebra√ß√£o do progresso, cada passo foi pensado para apoiar quem aprende, quem ensina e quem curte compartilhar conhecimento.</p>
        </div>
        <div class="col-lg-7">
          <ol class="list-group list-group-numbered list-group-flush bg-dark">
            <li class="list-group-item bg-dark text-white-50 px-0">Escolha um curr√≠culo oficial e visualize semestres, cargas hor√°rias, vers√µes e contexto institucional.</li>
            <li class="list-group-item bg-dark text-white-50 px-0">Mergulhe nas unidades curriculares com resultados de aprendizagem, t√≥picos relacionados e playlists abertas.</li>
            <li class="list-group-item bg-dark text-white-50 px-0">Marque o progresso, compartilhe materiais com a comunidade e mantenha vivo o hist√≥rico de revis√µes.</li>
          </ol>
        </div>
      </div>
    </div>
  </section>
{{ end }}

{{ define "sidebar-prefooter" }}
<section class="section container-fluid py-5">
  <div class="row justify-content-center text-center">
    <div class="col-lg-8">
      <p class="text-uppercase text-muted small mb-2">Manifesto Monynha Softwares</p>
      <h2 class="h4 fw-bold">Democratizar tecnologia, combater hipocrisia e dar voz a quem cria fora do padr√£o</h2>
      <p class="text-muted">A FACODI nasce desse compromisso pol√≠tico-social: usar tecnologia acess√≠vel para abrir caminhos na educa√ß√£o superior, respeitando diversidade cultural e celebrando conhecimentos populares.</p>
      <a class="btn btn-outline-primary rounded-pill px-4" href="https://monynha.com" target="_blank" rel="noopener">Conhe√ßa o manifesto completo</a>
    </div>
  </div>
</section>
{{ end }}

{{ define "sidebar-footer" }}
<section class="section section-md container-fluid bg-light">
  <div class="row justify-content-center text-center">
    <div class="col-lg-7">
      <h2 class="fw-bold">Bora colar com a FACODI?</h2>
      <p class="text-muted">Traga playlists, PDFs p√∫blicos, artigos e ideias para fortalecer a faculdade comunit√°ria digital e deixar o curr√≠culo cada vez mais diverso.</p>
      <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
        <a class="btn btn-primary rounded-pill px-4" href="/courses/">Ver cursos e unidades curriculares</a>
        <a class="btn btn-outline-primary rounded-pill px-4" href="https://monynha.com" target="_blank" rel="noopener">Falar com a Monynha e sugerir materiais</a>
      </div>
    </div>
  </div>
</section>
{{ end }}
