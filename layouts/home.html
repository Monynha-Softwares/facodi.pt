{{ define "main" }}
  {{ $scratch := newScratch }}
  {{ $scratch.Set "coursesCount" 0 }}
  {{ $scratch.Set "ucCount" 0 }}
  {{ with site.GetPage "section" "courses" }}
    {{ range .Sections }}
      {{ if .Params.code }}
        {{ $scratch.Add "coursesCount" 1 }}
        {{ with .Params.ucs }}
          {{ $scratch.Add "ucCount" (len .) }}
        {{ end }}
      {{ end }}
    {{ end }}
  {{ end }}
  <section class="hero-home py-5 py-lg-6">
    <div class="container-xxl">
      <div class="hero-panel text-white rounded-5 position-relative overflow-hidden p-4 p-lg-5">
        <div class="row align-items-center g-5">
          <div class="col-12 col-lg-6 col-xl-5">
            <span class="hero-badge">FACODI ‚Äî Faculdade Comunit√°ria Digital</span>
            <h1 class="display-4 fw-bold mb-4">Educa√ß√£o aberta, orgulhosamente comunit√°ria e gratuita</h1>
            <p class="lead hero-lead mb-4">{{ .Params.lead | safeHTML }}</p>
            <div class="hero-actions d-flex flex-column flex-sm-row gap-3 justify-content-center justify-content-lg-start">
              <a class="btn btn-primary btn-lg rounded-pill px-4" href="/courses/" role="button">Explorar curr√≠culos</a>
              <a class="btn btn-outline-light btn-lg rounded-pill px-4" href="https://monynha.com" target="_blank" rel="noopener">Conhe√ßa o ecossistema Monynha Softwares</a>
            </div>
            <div class="hero-metrics d-grid gap-3 mt-4">
              <div class="metric-card">
                <span class="metric-value">{{ $scratch.Get "coursesCount" }}</span>
                <span class="metric-label">cursos oficiais organizados pela comunidade</span>
              </div>
              <div class="metric-card">
                <span class="metric-value">{{ $scratch.Get "ucCount" }}</span>
                <span class="metric-label">unidades curriculares com playlists abertas</span>
              </div>
              <div class="metric-card metric-card--accent">
                <span class="metric-label fw-semibold text-uppercase">Transpar√™ncia viva</span>
                <p class="mb-0">Vers√µes rastre√°veis, progresso marcado por quem estuda e experi√™ncias fluidas em qualquer tela.</p>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-6 col-xl-7">
            <div class="hero-visual position-relative mx-auto">
              <div class="hero-visual-card shadow-lg">
                <h3 class="h5 fw-semibold mb-2">Plano comunit√°rio ao seu alcance</h3>
                <p class="mb-3 text-secondary">Descubra playlists, compet√™ncias e conte√∫dos complementares em um s√≥ mapa interativo.</p>
                <div class="d-flex flex-wrap gap-2">
                  <span class="badge rounded-pill bg-primary bg-opacity-10 text-primary">Playlists abertas</span>
                  <span class="badge rounded-pill bg-warning bg-opacity-10 text-warning">Resultados de aprendizagem</span>
                  <span class="badge rounded-pill bg-info bg-opacity-10 text-info">Mapa curricular vivo</span>
                </div>
              </div>
              <img class="hero-mascot img-fluid" src="/images/mascot-caramelo.svg" alt="Ilustra√ß√£o do cachorro caramelo mascote da FACODI" loading="lazy">
              <div class="hero-floating-note shadow-lg">
                <span class="small text-uppercase fw-semibold text-primary">Atualiza√ß√µes em tempo real</span>
                <p class="mb-0">A comunidade Monynha mant√©m curr√≠culos responsivos e organizados para qualquer dispositivo.</p>
              </div>
            </div>
          </div>
        </div>
        <div class="hero-panel-shape hero-panel-shape--one"></div>
        <div class="hero-panel-shape hero-panel-shape--two"></div>
      </div>
    </div>
  </section>
  {{ with .Content }}
  <section class="section section-sm pt-0">
    <div class="container-xxl">
      <div class="row justify-content-center">
        <div class="col-lg-9 col-xl-8 lead intro-text text-muted">
          {{ . | safeHTML }}
        </div>
      </div>
    </div>
  </section>
  {{ end }}
  {{ $features := slice
    (dict "icon" "üó∫Ô∏è" "title" "Mapa curricular interativo" "description" "Navegue por cursos, semestres e disciplinas com uma vis√£o organizada dos curr√≠culos oficiais.")
    (dict "icon" "üéß" "title" "Playlists integradas" "description" "Cada unidade curricular recebe playlists do YouTube e materiais p√∫blicos selecionados pela comunidade.")
    (dict "icon" "‚úÖ" "title" "Marca√ß√£o de progresso" "description" "Acompanhe o que j√° foi estudado e celebre cada m√≥dulo conclu√≠do no seu tempo.")
    (dict "icon" "üåà" "title" "Curadoria diversa" "description" "Um coletivo vibrante garante acessibilidade, linguagem acolhedora e representatividade real.")
    (dict "icon" "üì±" "title" "Responsivo por natureza" "description" "Componentes fluidos ocupam o espa√ßo dispon√≠vel em desktop, tablet ou celular.")
  }}
  <section class="section section-md bg-light feature-section">
    <div class="container-xxl">
      <div class="row justify-content-center text-center mb-5">
        <div class="col-lg-8">
          <h2 class="h3 fw-bold">Experi√™ncia FACODI na palma da m√£o</h2>
          <p class="text-muted">Tecnologia aberta para organizar o curr√≠culo, apoiar quem estuda e valorizar cada contribui√ß√£o da comunidade.</p>
        </div>
      </div>
      <div class="feature-grid">
        {{ range $features }}
        <article class="feature-card h-100">
          <span class="feature-icon">{{ .icon }}</span>
          <h3 class="h5 fw-semibold">{{ .title }}</h3>
          <p class="text-muted mb-0">{{ .description }}</p>
        </article>
        {{ end }}
      </div>
    </div>
  </section>
  {{ $communityHighlights := slice
    (dict "icon" "üí°" "title" "Laborat√≥rio FACODI" "description" "Sess√µes colaborativas para co-criar materiais e experimentar tecnologias livres.")
    (dict "icon" "ü§ù" "title" "Mentorias comunit√°rias" "description" "Docentes, estudantes e pessoas autodidatas trocando experi√™ncias sem barreiras.")
    (dict "icon" "üìö" "title" "Acervo sempre aberto" "description" "Playlists, PDFs p√∫blicos e artigos organizados com carinho para compartilhar saberes.")
  }}
  <section class="section section-md community-highlights">
    <div class="container-xxl">
      <div class="row g-5 align-items-center">
        <div class="col-lg-4">
          <span class="badge rounded-pill badge-surface text-primary text-uppercase mb-3">Movimento comunit√°rio</span>
          <h2 class="h3 fw-bold">Comunidade em movimento</h2>
          <p class="text-muted mb-0">A FACODI cresce com contribui√ß√µes distribu√≠das e formatos de aprendizagem que abra√ßam pluralidade cultural.</p>
        </div>
        <div class="col-lg-8">
          <div class="community-highlight-grid">
            {{ range $communityHighlights }}
            <article class="community-highlight-card h-100">
              <span class="community-highlight-icon">{{ .icon }}</span>
              <div>
                <h3 class="h5 fw-semibold mb-1">{{ .title }}</h3>
                <p class="mb-0 text-muted">{{ .description }}</p>
              </div>
            </article>
            {{ end }}
          </div>
        </div>
      </div>
    </div>
  </section>
  {{ with site.GetPage "section" "courses" }}
  <section class="section section-md courses-section">
    <div class="container-xxl">
      <div class="row justify-content-between align-items-end mb-4 gy-3">
        <div class="col-lg-8">
          <h2 class="h3 fw-bold">Cursos em destaque na comunidade FACODI</h2>
          <p class="text-muted mb-0">Curr√≠culos oficiais de licenciaturas e √°reas afins com unidades curriculares, playlists abertas e resultados de aprendizagem organizados.</p>
        </div>
        <div class="col-lg-4 text-lg-end">
          <a class="btn btn-outline-primary rounded-pill" href="/courses/">Ver todos os cursos</a>
        </div>
      </div>
      <div class="row g-4 g-xl-5 row-cols-1 row-cols-lg-2 row-cols-xxl-3">
        {{ range .Sections }}
          {{ if .Params.code }}
          <div class="col">
            <article class="card course-card h-100 border-0 shadow-sm">
              <div class="card-body p-4">
                {{ with .Params.plan_version }}
                <span class="badge bg-secondary text-uppercase mb-3">Plano {{ . }}</span>
                {{ end }}
                <h3 class="h4 mb-3"><a class="stretched-link text-decoration-none" href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
                {{ with .Params.summary }}
                <p class="text-muted">{{ . }}</p>
                {{ end }}
                <div class="course-stats">
                  {{ with .Params.ects_total }}<span><strong>{{ . }}</strong> ECTS</span>{{ end }}
                  {{ with .Params.duration_semesters }}<span><strong>{{ . }}</strong> semestres</span>{{ end }}
                  {{ with .Params.code }}<span>C√≥digo {{ . }}</span>{{ end }}
                </div>
              </div>
              {{ with .Params.ucs }}
              <div class="card-footer bg-transparent border-0 pt-0 pb-4 px-4">
                <span class="small text-muted">{{ len . }} unidades curriculares j√° mapeadas pela comunidade</span>
              </div>
              {{ end }}
            </article>
          </div>
          {{ end }}
        {{ end }}
      </div>
    </div>
  </section>
  {{ end }}
  {{ $journeySteps := slice
    (dict "title" "Monte seu mapa curricular" "description" "Escolha um curr√≠culo oficial, visualize semestres, cargas hor√°rias, vers√µes e contexto institucional para planejar sua jornada.")
    (dict "title" "Aprofunde-se nas unidades curriculares" "description" "Explore resultados de aprendizagem, t√≥picos relacionados e playlists abertas atualizadas pela comunidade.")
    (dict "title" "Compartilhe e comemore" "description" "Marque progresso, registre contribui√ß√µes e fortale√ßa a mem√≥ria coletiva de quem aprende e ensina.")
  }}
  <section class="section section-md journey-section">
    <div class="container-xxl">
      <div class="journey-surface rounded-5 p-4 p-lg-5 text-white position-relative overflow-hidden">
        <div class="row g-5 align-items-start">
          <div class="col-lg-4">
            <h2 class="h3 fw-bold">Como rola a jornada FACODI</h2>
            <p class="text-white-50 mb-0">Da escolha do curso at√© a celebra√ß√£o do progresso, cada passo foi pensado para apoiar quem aprende, quem ensina e quem curte compartilhar conhecimento.</p>
          </div>
          <div class="col-lg-8">
            <div class="journey-steps">
              {{ range $index, $step := $journeySteps }}
              <article class="journey-step h-100">
                <span class="journey-index">0{{ add $index 1 }}</span>
                <h3 class="h5 fw-semibold mb-2">{{ $step.title }}</h3>
                <p class="mb-0 text-white-75">{{ $step.description }}</p>
              </article>
              {{ end }}
            </div>
          </div>
        </div>
        <div class="journey-surface-glow journey-surface-glow--one"></div>
        <div class="journey-surface-glow journey-surface-glow--two"></div>
      </div>
    </div>
  </section>
{{ end }}

{{ define "sidebar-prefooter" }}
<section class="section container-fluid py-5 prefooter-section">
  <div class="container-xxl">
    <div class="row justify-content-center text-center">
      <div class="col-lg-8">
        <p class="text-uppercase text-muted small mb-2">Manifesto Monynha Softwares</p>
        <h2 class="h4 fw-bold">Democratizar tecnologia, combater hipocrisia e dar voz a quem cria fora do padr√£o</h2>
        <p class="text-muted">A FACODI nasce desse compromisso pol√≠tico-social: usar tecnologia acess√≠vel para abrir caminhos na educa√ß√£o superior, respeitando diversidade cultural e celebrando conhecimentos populares.</p>
        <a class="btn btn-outline-primary rounded-pill px-4" href="https://monynha.com" target="_blank" rel="noopener">Conhe√ßa o manifesto completo</a>
      </div>
    </div>
  </div>
</section>
{{ end }}

{{ define "sidebar-footer" }}
<section class="section section-md container-fluid bg-light footer-invite">
  <div class="container-xxl">
    <div class="row justify-content-center text-center">
      <div class="col-lg-7">
        <h2 class="fw-bold">Bora colar com a FACODI?</h2>
        <p class="text-muted">Traga playlists, PDFs p√∫blicos, artigos e ideias para fortalecer a faculdade comunit√°ria digital e deixar o curr√≠culo cada vez mais diverso.</p>
        <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
          <a class="btn btn-primary rounded-pill px-4" href="/courses/">Ver cursos e unidades curriculares</a>
          <a class="btn btn-outline-primary rounded-pill px-4" href="https://monynha.com" target="_blank" rel="noopener">Falar com a Monynha e sugerir materiais</a>
        </div>
      </div>
    </div>
  </div>
</section>
{{ end }}
